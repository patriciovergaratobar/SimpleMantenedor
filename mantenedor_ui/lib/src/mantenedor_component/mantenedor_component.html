<div  class="contenido-main">
    <h1>Mantenedor de Usuarios</h1>

    <material-button raised class="red" (trigger)="abrirCrearUsuario()" [disabled]="showCrearForm">
        <material-icon icon="add"></material-icon>
        Crear Usuario
    </material-button>

    <material-input type="search" label="Buscar..."></material-input>

    <modal [visible]="showCrearForm">
        <!--crear-usuario-component></crear-usuario-component-->
        <material-dialog headered class="headered-dialog" >
            <div header class="headerModal">
                <h2>Crear Usuario</h2>
            </div>
            <p>
                Ingrese la información en  el formulario.
            </p>
            Rut: <material-input label="Rut" [(ngModel)]="rutNuevo" ></material-input><br>
            Nombre: <material-input label="Nombre" [(ngModel)]="nombreNuevo" ></material-input><br>
            Correo: <material-input label="Correo" [(ngModel)]="correoNuevo" ></material-input><br>
            Clave: <material-input label="Clave" [(ngModel)]="claveNuevo" ></material-input><br>
            FechaNacimiento: 
            <material-input label="FechaNacimiento" [(ngModel)]="fechaNuevo"></material-input><br>
            <hr/>
            <div footer>
                <material-yes-no-buttons yesText="Crear" noText="Cerrar" yesHighlighted yesRaised (no)="showCrearForm = false" (yes)="crearUsuario()"></material-yes-no-buttons>
                <!--material-button autoFocus clear-size (trigger)="showCrearForm = false">
                    Cerrar
                    </material-button>
                    <material-button autoFocus clear-size (trigger)="crearUsuario()">
                      Crear
                    </material-button-->
            </div>
        </material-dialog>
    </modal>

    <modal [visible]="showEditForm">
        <!--crear-usuario-component></crear-usuario-component-->
        <material-dialog headered class="headered-dialog" >
            <div header class="headerModal">
                <h2>Editar Usuario</h2>
            </div>
            <p>
                Edita la información en  el formulario.
            </p>
            Rut: <material-input label="Rut" [(ngModel)]="gestionUsuarioModel.rut"  ></material-input><br>
            Nombre: <material-input label="Nombre" [(ngModel)]="gestionUsuarioModel.nombre"  ></material-input><br>
            Correo: <material-input label="Correo" [(ngModel)]="gestionUsuarioModel.correo" ></material-input><br>
            Clave: <material-input label="Clave" [(ngModel)]="gestionUsuarioModel.clave" ></material-input><br>
            FechaNacimiento: <!--material-input label="FechaNacimiento" [(ngModel)]="gestionUsuarioModel.fechaNacimiento"></material-input--><br>
            <hr/>
            <div footer>
                <material-yes-no-buttons yesText="Guardar" noText="Cerrar" yesHighlighted yesRaised (no)="showEditForm = false" (yes)="editarUsuario()"></material-yes-no-buttons>
                <!--material-button autoFocus clear-size (trigger)="showEditForm = false">
                    Cerrar
                    </material-button>
                    <material-button autoFocus clear-size (trigger)="editarUsuario()">
                    Guardar
                    </material-button-->
            </div>
        </material-dialog>
    </modal>

    <modal [visible]="showDeleteForm">
        <!--crear-usuario-component></crear-usuario-component-->
        <material-dialog headered class="headered-dialog" >
            <div header class="headerModal">
                <h2>Eliminar Usuario</h2>
            </div>
            <p>
                ¿Quiere eliminar el usuario?
            </p>
            <br>
            <hr/>
            <div footer>
                <material-yes-no-buttons yesText="Si" noText="No" yesHighlighted yesRaised (no)="showDeleteForm = false" (yes)="eliminarUsuario()"></material-yes-no-buttons>
            </div>
        </material-dialog>
    </modal>

    <table>
        <thead>
            <tr>
                <th>RUT</th>
                <th>NOMBRE</th>
                <th>CORREO</th>
                <th>FECHANACIMIENTO</th>
                <th>OPCIONES</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let usuario of lista">
                <td data-column="RUT" >{{ usuario.rut }}</td>
                <td data-column="NOMBRE">{{ usuario.nombre }}</td>
                <td data-column="CORREO" >{{ usuario.correo }}</td>
                <td data-column="FECHANACIMIENTO" >{{ usuario.fechaNacimiento }}</td>
                <td data-column="OPCIONES" >
                    <material-button (trigger)="abrirEditarUsuario(usuario)">
                        <material-icon icon="edit"></material-icon>
                    </material-button>
                    <material-button (trigger)="abrirEliminarUsuario(usuario)">
                        <material-icon icon="delete"></material-icon>
                    </material-button>
                </td>
            </tr>
        </tbody>
    </table>

</div>